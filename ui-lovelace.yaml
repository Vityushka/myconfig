resources:
  - url: /local/bar-card.js
    type: js
  - url: /local/custom-weather-card-chart.js
    type: module
  - url: /local/mini-graph-card-bundle.js
    type: module
  - url: /local/tracker-card.js?track=true
    type: module
  - url: /local/vertical-stack-in-card.js?v=v0.1.1
    type: js
  - url: /local/battery-entity.js?v=0.2
    type: module


title: Home
views:
################################################################
# MAIN PAGE
################################################################
  - title: Main
    icon: mdi:home
    columns: 4
    #badges:
    #  - person.dima
    #  - person.sandra
    #  - person.vova
    #  - person.sasha
    cards:
      # ##################################
      # Left Block
      # ##################################a
      - type: vertical-stack
        title: Main
        cards:
          - type: glance
            #title: Presence
            show_name: true
            show_state: true
            columns: 7
            entities:
              #- sensor.yr_symbol
              #- sun.sun
              #- entity: sensor.yandex_traffic_moscow
              #  name: Traffic
                
              - entity: sensor.traffic
                name: Traffic
              - entity: sensor.dima_to_work
                name: To Work
              - entity: sensor.dima_to_home
                name: To Home
              #- entity: device_tracker.life360_dima_tsymbal
              #  name: Dima
              #- entity: device_tracker.life360_sandra_tsymbal
              #  name: Sasha
              #- entity: device_tracker.life360_vova_tsymbal
              #  name: Vova
              - person.dima
                #icon: /local/dima.jpg
              - person.sandra
              - person.vova
              - entity: binary_sensor.sasha
                name: Sasha
                #icon: /local/sasha.png

          #- type: weather-forecast
          #  entity: weather.dark_sky
          - type: custom:weather-card-chart
            #title: Weather
            weather: weather.dark_sky
          
          - type: custom:vertical-stack-in-card
            cards:
              - type: glance
                #title: Sytem Status
                columns: 6
                entities:
                  - entity: sensor.ubuntu_cpu_load
                    name: CPU
                  - entity: sensor.ubuntu_mem_used
                    name: RAM
                    icon: mdi:chip
                  - entity: sensor.ubuntu_cpu_temp
                    name: CPU_T
                  - entity: sensor.ubuntu_ssd_space_used
                    name: SSD
                    icon: mdi:harddisk
                  - entity: sensor.ubuntu_hdd_space_used
                    name: HDD
                    icon: mdi:harddisk
                  - entity: sensor.mariadb_size
                    name: DB
                    icon: mdi:database
              - type: glance
                #title: Sytem Status
                columns: 6
                entities:    
                  - entity: binary_sensor.ippon_hb_status
                    name: HB
                  - entity: sensor.ippon_hb_status_data
                    name: Status
                  - entity: sensor.ippon_hb_battery_voltage
                    name: Voltage
                  - entity: binary_sensor.ippon_mb_status
                    name: MB
                  - entity: sensor.ippon_mb_status_data
                    name: Status
                  - entity: sensor.ippon_mb_battery_voltage
                    name: Voltage
                  #- entity: sensor.ippon_hb_status_data
                  #  name: Status
                  #- entity: sensor.ippon_hb_load
                  #  name: Load
                  #- entity: sensor.ippon_hb_battery_charge
                  #  name: Charge
                  #- entity: sensor.ippon_hb_battery_voltage
                  #  name: Voltage
                  #- entity: sensor.ippon_hb_input_voltage
                  #  name: Input
                  #- entity: sensor.ippon_hb_output_voltage
                  #  name: Output
                  #- entity: sensor.ippon_ups_temperature
                  #  name: Temp
              - type: glance
                #title: Sytem Status
                columns: 6
                entities:
                  - entity: sensor.omv_cpu_load
                    name: CPU
                    icon: mdi:memory
                  - entity: sensor.omv_mem_used
                    name: RAM
                    icon: mdi:chip
                  - entity: sensor.omv_cpu_temp
                    name: CPU_T
                  - entity: sensor.omv_backupdisk_space_used
                    name: Backup
                    icon: mdi:nas
                  - entity: sensor.omv_torrent_space_used
                    name: Torrent
                    icon: mdi:nas
                  - entity: sensor.omv_storage_space_used
                    name: Storage
                    icon: mdi:nas

          - type: glance
            entities:
              - entity: media_player.home_mini_v
                name: V                
              - entity: media_player.home_mini_s
                name: S
              - entity: media_player.home_mini_k
                name: K
              - entity: media_player.home_mini_mb
                name: MB
              - entity: media_player.mpd
                name: MPD
          
          
      # ##################################
      # Center Block
      # ##################################      
      - type: vertical-stack
        title: Security
        cards:
          - type: horizontal-stack
            #title: Camers
            cards:
              - type: picture-entity
                title: Entrance
                entity: camera.uvc_g3_flex_entrance
                name: Entr
              - type: picture-entity
                title: Hall Big
                entity: camera.uvc_g3_flex_hall
                name: Hall
              - type: picture-entity
                title: Kitchen
                entity: camera.uvc_g3_flex_kitchen
                name: Kitch
          - type: glance
            #title: Motion
            show_name: true
            show_state: false
            columns: 5
            entities:
              - entity: binary_sensor.motion_sensor_158d0001e53cda
                name: MB
              - entity: binary_sensor.motion_sensor_158d000224f89f
                name: S
              - entity: binary_sensor.motion_sensor_158d000236bb94
                name: V
              #- entity: binary_sensor.motion_sensor_158d0001e05856
              - entity: binary_sensor.motion_hb
                name: HB
              - entity: binary_sensor.motion_sensor_158d0001d5995e
                name: HB Door
              - entity: binary_sensor.motion_sensor_158d0001ae9f61
                name: HS
              - entity: binary_sensor.motion_sensor_158d0002b4729d
                name: K
              - entity: binary_sensor.motion_sensor_158d000236bc6d
                name: B
              - entity: binary_sensor.motion_sensor_158d0001e54280
                name: T
              - entity: binary_sensor.motion_sensor_158d0001aea602
                name: St
          - type: horizontal-stack
            cards:
              - type: glance
              # title: Water Leak
                show_name: true
                show_state: true
                columns: 3
                entities:
                  - entity: binary_sensor.water_leak_sensor_158d00023297e7
                    name: K
                  - entity: binary_sensor.water_leak_sensor_158d0002373a67
                    name: B
                  - entity: binary_sensor.water_leak_sensor_158d00023684c2
                    name: T
              - type: glance
                show_name: true
                show_state: true
                entities:
          
                  - entity: binary_sensor.door_window_sensor_158d000253722b
                    name: Fridge
                  - entity: sensor.temperature_158d0002461e5b
                    name: 
                    
                  - entity: binary_sensor.door_window_sensor_158d000252acba
                    name: Freezer
                  - entity: sensor.temperature_158d000237167c
                    name: 
                   
                      
          - type: horizontal-stack
            title: Utility
            cards:
              - type: glance
                show_state: false
                entities:
                  - entity: switch.plug_158d0001f9ebd8
                    name: Fan B
                    icon: mdi:fan
                    tap_action:
                      action: toggle
                  - entity: switch.plug_158d0001f54f91
                    name: Fan T
                    icon: mdi:fan
                    tap_action:
                      action: toggle
              - type: glance
                show_state: false
                entities:
                  - entity: switch.plug_158d0001f54f90
                    name: W.ON
                    tap_action:
                      action: toggle
                  - entity: switch.plug_158d00020d8679
                    name: W.OFF
                    tap_action:
                      action: toggle
              - type: glance
                show_state: false
                entities:
                  - entity: switch.plug_158d00023a657a
                    name: Heater S
                    icon: mdi:radiator
                    tap_action:
                      action: toggle
   
          - type: horizontal-stack
            cards:
              - type: glance
                entities:
                  - entity: fan.humidifier2
                    name: Humi
                    tap_action:
                      action: toggle
                  - entity: sensor.humidifier_mode
                    icon: mdi:fan
                    name: Speed
                    tap_action:
                      action: call-service
                      service: script.cycle_humidifier_mode
                  - entity: sensor.humidifier_water_level
                    name: Water
              - type: glance
                entities:
                  - entity: fan.purifier2s
                    name: Puri
                    tap_action:
                      action: toggle
                  - entity: sensor.purifier_mode
                    name: Speed
                    icon: mdi:fan
                    tap_action:
                      action: call-service
                      service: script.cycle_purifier_mode
                  - entity: sensor.purifier_pm25
                    name: PM2.5
                    icon: mdi:meteor

          - type: custom:vertical-stack-in-card
            cards:
              - type: glance
                columns: 7
                entities:
                  - entity: sensor.temperature_158d0002464ec0
                    name: HB
                  - entity: sensor.temperature_158d0001e586af
                    name: K
                  - entity: sensor.temperature_158d000222c746
                    name: MB
                  - entity: sensor.temperature_158d0001e6d85a
                    name: S
                  - entity: sensor.temperature_158d0001e58714
                    name: V
                  - entity: sensor.temperature_158d00020d7c3a
                    name: B
                  - entity: sensor.temperature_158d0001e58754
                    name: T
              - type: glance
                columns: 7
                show_name: false
                show_state: true
                entities:
                  - entity: sensor.humidity_158d0002464ec0
                    name: HB
                  - entity: sensor.humidity_158d0001e586af
                    name: K
                  - entity: sensor.humidity_158d000222c746
                    name: MB
                  - entity: sensor.humidity_158d0001e6d85a
                    name: S
                  - entity: sensor.humidity_158d0001e58714
                    name: V
                  - entity: sensor.humidity_158d00020d7c3a
                    name: B
                  - entity: sensor.humidity_158d0001e58754
                    name: T
              
      # ##################################
      # Right Block
      # ##################################
      - type: vertical-stack
        cards:
          - type: glance
            #title: Lights
            show_name: true
            show_state: false
            columns: 6
            entities:
              - entity: light.led_strip_hb
                name: HB
                tap_action:
                  action: toggle
                icon: mdi:led-strip
              - entity: switch.wall_switch_left_158d000223921b
                name: Entrance
                tap_action:
                  action: toggle
                icon: mdi:ceiling-light
              - entity: switch.wall_switch_right_158d000253f04a
                name: Fridge
                icon: mdi:ceiling-light
                tap_action:
                  action: toggle
              
              - entity: light.square_led_v
                name: Vova
                icon: mdi:card
                tap_action:
                  action: toggle
              - entity: light.led_color_v
                name: Vova
                icon: mdi:desk-lamp
                tap_action:
                  action: toggle
              
              - entity: light.round_led_mb
                name: MB
                icon: mdi:circle
                tap_action:
                  action: toggle
              - entity: light.bedside_mb
                name: MB
                icon: mdi:lava-lamp
                tap_action:
                  action: toggle
              - entity: light.philips_e27_mb
                name: MB Desk
                icon: mdi:desk-lamp
                tap_action:
                  action: toggle
              
              - entity: light.philips_e27_sasha
                name: S Desk
                icon: mdi:desk-lamp
                tap_action:
                  action: toggle
              - entity: switch.wall_switch_left_158d0002a36433
                name: Sasha
                icon: mdi:ceiling-light
                tap_action:
                  action: toggle
              #- entity: switch.wall_switch_right_158d0002a36433
              #  name: S Desk
              #  icon: mdi:light-switch
              #  tap_action:
              #    action: toggle
                  
              - entity: switch.wall_switch_left_158d0002a36e26
                name: HS
                icon: mdi:ceiling-light
                tap_action:
                  action: toggle
              - entity: switch.plug_158d0001f5501f
                name: Night HS
                icon: mdi:candle
                tap_action:
                  action: toggle
              
              - entity: switch.wall_switch_right_158d0002a36e26
                name: Bathroom
                icon: mdi:spotlight
                tap_action:
                  action: toggle
              - entity: switch.wall_switch_left_158d0002a36f7f
                name: Toilet
                icon: mdi:spotlight
                tap_action:
                  action: toggle
                  
              - entity: switch.wall_switch_right_158d0002a36f7f
                name: Kitchen
                icon: mdi:ceiling-light
                tap_action:
                  action: toggle
              - entity: switch.plug_158d000216528c
                name: Night K
                icon: mdi:candle
                tap_action:
                  action: toggle
              - entity: light.led_color_k
                name: K Desk
                icon: mdi:desk-lamp
                tap_action:
                  action: toggle
              
              - entity: switch.wall_switch_158d000248bf53
                name: Storage
                icon: mdi:ceiling-light
                tap_action:
                  action: toggle
          - type: glance
            #title: Sockets
            show_name: true
            show_state: false
            columns: 6
            entities:
              - entity: switch.wall_plug_158d000230fc52
                name: Fridge
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d00024517fe
                name: Entr
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d0001f2630e
                name: Wadr L
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d00023e5812
                name: Wadr R
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              
              - entity: switch.wall_plug_158d000249b26b
                name: HS
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.plug_158d0002924790
                name: Util HS
                icon: mdi:power-socket
               
              
              - entity: switch.wall_plug_158d0002451850
                name: PC K
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d0002476ed1
                name: TV K
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d000249b25b
                name: Oven K
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.plug_158d000232481a
                name: Air Filter
                icon: mdi:power-socket
                tap_action:
                  action: toggle
              
              - entity: switch.wall_plug_158d0002467773
                name: PC MB
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.plug_158d000205a835
                name: BPlug MB
                icon: mdi:power-socket
                tap_action:
                  action: toggle
              - entity: switch.power_strip_mb
                name: PStrip MB
                icon: mdi:power-socket
                tap_action:
                  action: toggle
                                         
              - entity: switch.wall_plug_158d000246776f
                name: Entr V
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.plug_158d0002468fbd
                name: Window V
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d0002395dc9
                name: TV V
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              
              - entity: switch.wall_plug_158d000239097a
                name: PC S
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
              - entity: switch.wall_plug_158d0002395d58
                name: Window S
                icon: mdi:power-socket-au
                tap_action:
                  action: toggle
                               
          - type: glance
            #title: Gateway's Plugs
            show_name: true
            show_state: false
            columns: 6
            entities:
              - entity: switch.gateway_plug_hb
                name: HB
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: switch.gateway_plug_hs
                name: HS
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: switch.gateway_plug_k
                name: K
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: switch.gateway_plug_mb
                name: MB
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: switch.gateway_plug_s
                name: S
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: switch.gateway_plug_v
                name: V
                tap_action:
                  action: toggle
                icon: mdi:power
              - entity: light.gateway_light_7811dcb8cb4b
                name: HB
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
              - entity: light.gateway_light_7c49eb195e21
                name: HS
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
              - entity: light.gateway_light_7c49ebb1c91a
                name: K
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
              - entity: light.gateway_light_7c49ebb1b5e1
                name: MB
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
              - entity: light.gateway_light_7811dcb8d612
                name: S
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
              - entity: light.gateway_light_7c49ebb19080
                name: V
                tap_action:
                  action: toggle
                icon: mdi:lightbulb
          - type: horizontal-stack
            cards:
              - type: entity-button
                name: Light
                entity: light.my_lights
                hold_action: none
                tap_action:
                  action: call-service
                  service: light.turn_off
                  entity_id: light.my_lights
              - type: entity-button
                name: Fans
                icon: mdi:fan
                entity: group.all_fans
                hold_action: none
                tap_action:
                  action: call-service
                  service: homeassistant.toggle
                  service_data:
                    entity_id: group.all_fans
              - type: entity-button
                name: Left home
                icon: mdi:lightbulb-outline
                entity: light.my_lights
                hold_action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  service_data:
                    entity_id: automation.hall_big_left_home
              
                  
#OL - ИБП работает от сети,
#OB - ИБП работает от батареи,
#LB - батарея разряжена,
#RB - необходима замена батареи,
#CHRG - батарея заряжается,
#DISCHRG - батарея разряжается,
#BYPASS - ИБП работает в режиме питания от сети в обход батареи,
#OVER - ИБП перегружен,
#TRIM - ИБП отрезает повышенное напряжение сети,
#BOOST - ИБП усиливает пониженное напряжение сети,


################################################################
# SECURITY PAGE
################################################################
  - title: Security
    icon: mdi:shield
    show_header_toggle: false
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            title: Status
            entities:
              - entity: binary_sensor.security
                name: Security
              - entity: binary_sensor.family_home
                name: Family
              - person.sasha
              - input_boolean.sasha_tracker
              
          - type: entities
            title: Safety
            show_header_toggle: false
            entities:
              - entity: sensor.security_last_change
                secondary_info: last-changed
                name: Last active sensor
              - entity: binary_sensor.motion
                secondary_info: last-changed
              - entity: binary_sensor.motion_unifi
                secondary_info: last-changed
              - entity: binary_sensor.doors
                secondary_info: last-changed
              - entity: binary_sensor.windows
                secondary_info: last-changed
    
          - type: entities
            title: Fire Safety
            show_header_toggle: false
            entities:
              - entity: binary_sensor.natgas_sensor_158d00024bcf85
                secondary_info: last-changed
              - entity: binary_sensor.smoke_sensor_158d0002c92f31
                secondary_info: last-changed
      - type: vertical-stack
        cards:
          - type: entities
            title: Windows
            show_header_toggle: false
            entities:
              - entity: binary_sensor.door_window_sensor_158d00025371f6
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d000200ad58
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d00022ccffe
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d00025370d1
                secondary_info: last-changed
          
          - type: entities
            title: Doors
            show_header_toggle: false
            entities:
              - entity: binary_sensor.door_window_sensor_158d00027129ae
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d0001ef2ffc
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d0002a14c5e
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d0002529b9c
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d00025315e9
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d0001e5d6be
                secondary_info: last-changed
              - entity: binary_sensor.door_window_sensor_158d0002531749
                secondary_info: last-changed
      
      - type: entities
        title: Motion
        show_header_toggle: false
        entities:
          - entity: binary_sensor.motion_sensor_158d0001e53cda
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d000224f89f
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d000236bb94
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0001e05856
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0002b482e9
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0001d5995e
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0001ae9f61
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0002b4729d
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d000236bc6d
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0001e54280
            secondary_info: last-changed
          - entity: binary_sensor.motion_sensor_158d0001aea602
            secondary_info: last-changed
          - entity: binary_sensor.unifi_motion_entrance
            secondary_info: last-changed
          - entity: binary_sensor.unifi_motion_hall
            secondary_info: last-changed
          - entity: binary_sensor.unifi_motion_kitchen
            secondary_info: last-changed
          - entity: binary_sensor.unifi_motion_window
            secondary_info: last-changed
      

################################################################
# DEVICES BY ROOM PAGE
################################################################
  - title: Rooms
    icon: mdi:card-outline
    show_header_toggle: false
    cards:
      - type: entities
        title: Hall Big
        show_header_toggle: false
        entities:
          - light.gateway_light_7811dcb8cb4b
          - light.led_strip_hb
          - switch.wall_switch_left_158d000223921b
          - switch.wall_switch_right_158d000223921b
          - switch.wall_switch_left_158d000253f04a
          - switch.wall_switch_right_158d000253f04a
          - switch.wall_plug_158d000230fc52
          - switch.wall_plug_158d00024517fe
          - switch.wall_plug_158d0001f2630e
          - switch.wall_plug_158d00023e5812
          - switch.gateway_plug_hb
      - type: entities
        title: Sasha's Room
        show_header_toggle: false
        entities:
          - switch.wall_switch_left_158d0002a36433
          - switch.wall_switch_right_158d0002a36433
          - light.gateway_light_7811dcb8d612
          - light.philips_e27_sasha
          - switch.wall_plug_158d000239097a
          - switch.wall_plug_158d0002395d58
          - fan.humidifier2
          - switch.plug_158d00023a657a
          - switch.gateway_plug_s
      - type: entities
        title: Kitchen
        show_header_toggle: false
        entities:
          - light.gateway_light_7c49ebb1c91a
          - switch.wall_switch_right_158d0002a36f7f
          - switch.plug_158d000216528c
          - switch.wall_plug_158d0002451850
          - switch.wall_plug_158d0002476ed1
          - switch.wall_plug_158d000249b25b
          - switch.plug_158d000232481a
          - switch.gateway_plug_k
          - light.led_color_k
          - switch.plug_158d0001e85086
      - type: entities
        title: Vova's Room
        show_header_toggle: false
        entities:
          # - light.yeelight_ceiling6_7c49ebb4b206
          - light.square_led_v
          - light.gateway_light_7c49ebb19080
          - light.led_color_v
          - switch.wall_plug_158d0002395dc9
          - switch.wall_plug_158d000246776f
          - switch.plug_158d0002468fbd
          - switch.gateway_plug_v
          - switch.plug_158d00020b4971
      - type: entities
        title: Hall Small
        show_header_toggle: false
        entities:
          - switch.plug_158d0001f5501f
          - switch.wall_switch_left_158d0002a36e26
          - light.gateway_light_7c49eb195e21
          - switch.wall_plug_158d000249b26b
          - switch.power_strip_hs
          - switch.plug_158d0002924790
          - switch.gateway_plug_hs
      - type: entities
        title: Master Bedroom
        show_header_toggle: false
        entities:
          - light.bedside_mb
          - light.gateway_light_7c49ebb1b5e1
          - light.round_led_mb
          - switch.wall_plug_158d0002467773
          - fan.purifier2s
          - switch.plug_158d000205a835
          - switch.gateway_plug_mb
          - light.philips_e27_mb
          - switch.plug_158d0002482619
      - type: entities
        title: Bathroom
        show_header_toggle: false
        entities:
          - switch.wall_switch_right_158d0002a36e26
          - switch.plug_158d0001f54f90
          - switch.plug_158d0001f9ebd8
          - switch.plug_158d00020d8679
      - type: entities
        title: Toilet
        show_header_toggle: false
        entities:
          - switch.wall_switch_left_158d0002a36f7f
          - switch.plug_158d0001f54f91
      - type: entities
        title: Storage
        show_header_toggle: false
        entities:
          - switch.wall_switch_158d000248bf53

################################################################
# SENSORS BY ROOM PAGE
################################################################      
  - title: Sensors
    icon: mdi:album
    cards:
      - type: entities
        title: Hall Big
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d0001e5d6be
          - binary_sensor.door_window_sensor_158d0002531749
          - binary_sensor.motion_sensor_158d0001d5995e
          - binary_sensor.motion_sensor_158d0001e05856
          - binary_sensor.switch_158d00023d3206
          - sensor.illumination_158d0001e05856
          - sensor.illumination_7811dcb8cb4b
          - sensor.illumination_158d0002b482e9
          - sensor.temperature_158d000237167c
          - sensor.pressure_158d000237167c
          - sensor.humidity_158d000237167c
          - sensor.temperature_158d0002461e5b
          - sensor.humidity_158d0002461e5b
          - entity: sensor.yr00_symbol
            name: Yr
          - sun.sun
      - type: entities
        title: Sasha's Room
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d00025370d1
          - binary_sensor.door_window_sensor_158d00027129ae
          - binary_sensor.motion_sensor_158d000224f89f
          - binary_sensor.switch_158d00019c8afd
          - binary_sensor.switch_158d0001f3627d
          - binary_sensor.vibration_158d0002a8ac3c
          - sensor.bed_activity_158d0002a8ac3c
          - sensor.coordination_158d0002a8ac3c
          - sensor.humidity_158d0001e6d85a
          - sensor.illumination_158d000224f89f
          - sensor.illumination_7811dcb8d612
          - sensor.temperature_158d0001e6d85a
          - sensor.tilt_angle_158d0002a8ac3c
      - type: entities
        title: Kitchen
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d00025371f6
          - binary_sensor.motion_sensor_158d0002b4729d
          - sensor.illumination_158d0002b4729d
          - binary_sensor.water_leak_sensor_158d00023297e7
          - sensor.humidity_158d0001e586af
          - sensor.illumination_7c49ebb1c91a
          - sensor.temperature_158d0001e586af
          - binary_sensor.natgas_sensor_158d00024bcf85
          - binary_sensor.smoke_sensor_158d0002c92f31
      - type: entities
        title: Vova's Room
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d00022ccffe
          - binary_sensor.door_window_sensor_158d0002529b9c
          - binary_sensor.motion_sensor_158d000236bb94
          - binary_sensor.switch_158d00016bdb4a
          - binary_sensor.wall_switch_both_158d0001712d55
          - binary_sensor.wall_switch_left_158d0001712d55
          - binary_sensor.wall_switch_right_158d0001712d55
          - sensor.humidity_158d0001e58714
          - sensor.illumination_158d000236bb94
          - sensor.illumination_7c49ebb19080
          - sensor.temperature_158d0001e58714
      - type: entities
        title: Hall Small
        show_header_toggle: false
        entities:
          - binary_sensor.motion_sensor_158d0001ae9f61
          - sensor.illumination_7c49eb195e21
      - type: entities
        title: Master Bedroom
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d000200ad58
          - binary_sensor.door_window_sensor_158d00025315e9
          - binary_sensor.motion_sensor_158d0001e53cda
          - binary_sensor.wall_switch_both_158d00013e6aa5
          - binary_sensor.wall_switch_left_158d00013e6aa5
          - binary_sensor.wall_switch_right_158d00013e6aa5
          - sensor.humidity_158d000222c746
          - sensor.illumination_158d0001e53cda
          - sensor.illumination_7c49ebb1b5e1
          - sensor.temperature_158d000222c746
          - binary_sensor.vibration_158d0002a2412d
          - sensor.bed_activity_158d0002a2412d
          - sensor.coordination_158d0002a2412d
          - sensor.tilt_angle_158d0002a2412d

      - type: entities
        title: Bathroom
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d0002a14c5e
          - binary_sensor.motion_sensor_158d000236bc6d
          - binary_sensor.switch_158d0001b94abe
          - binary_sensor.water_leak_sensor_158d0002373a67
          - sensor.humidity_158d00020d7c3a
          - sensor.illumination_158d000236bc6d
          - sensor.temperature_158d00020d7c3a
      - type: entities
        title: Toilet
        show_header_toggle: false
        entities:
          - binary_sensor.door_window_sensor_158d0001ef2ffc
          - binary_sensor.motion_sensor_158d0001e54280
          - binary_sensor.switch_158d0001b97111
          - binary_sensor.water_leak_sensor_158d00023684c2
          - sensor.illumination_158d0001e54280
          - sensor.humidity_158d0001e58754
          - sensor.temperature_158d0001e58754
      - type: entities
        title: Storage
        show_header_toggle: false
        entities:
          - binary_sensor.motion_sensor_158d0001aea602
          - binary_sensor.switch_158d00023d0b86
          - sensor.temperature_158d000233fb72
          - sensor.pressure_158d000233fb72
          - sensor.humidity_158d000233fb72

################################################################
# UTILITY COUNTERS PAGE
################################################################
  - title: Utility
    icon: mdi:counter
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            title: Utility Cost
            show_header_toggle: false
            entities:
              - sensor.utility_cost
              - type: divider
              #- sensor.hot_water_cost
              #- sensor.cold_water_cost
              - type: divider
              - sensor.water_cost 
              - type: divider
              #- sensor.power_consumption_month_t1_cost
              #- sensor.power_consumption_month_t2_cost
              - type: divider
              - sensor.power_consumption_month_cost
          - type: entities
            title: Meters
            show_header_toggle: false
            entities:
              - sensor.cold_water_meter
              - sensor.hot_water_meter
              - type: divider
              - sensor.power_t1
              - sensor.power_t2
          - type: entities
            title: Change
            show_header_toggle: false
            entities:
              
              - sensor.water_change_1m
              - sensor.water_change_10m
              - sensor.water_change_30m
              - sensor.water_change_60m
          
      - type:  vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              #- sensor.water_delta_1m
              - sensor.water_delta_10m
              #- sensor.water_delta_30m
              #- sensor.water_delta_60m
            name: Water usage
            show:
              graph: bar
            line_color: blue
            icon: mdi:water-pump
            hours_to_show: 48
            points_per_hour: 1
            extrema: true
            labels: true
            line_width: 3
            decimals: 2
            hour24: true
          
          - type: entities
            title: Water
            show_header_toggle: false
            entities:
              - sensor.hot_water_month
              - sensor.cold_water_month
              - type: divider
              # - counter.hot_water_meter
              - sensor.hot_water_meter
              # - sensor.hot_water_usage_mean
              # - counter.cold_water_meter
              - sensor.cold_water_meter
              # - sensor.cold_water_usage_mean
              - type: divider
              - input_number.hot_water_meter
              - input_number.cold_water_meter
              
          
          #- type: custom:mini-graph-card
          #  entities:
          #    - sensor.water
          #  name: Water meter
          #  #show:
          #  #  graph: bar
          #  #line_color: red
          #  hours_to_show: 48
          #  points_per_hour: 1
          #  extrema: true
          # line_width: 3
          #  decimals: 0
          #  hour24: true
          
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            icon: mdi:flash
            entities:
              - sensor.power_consumption
            name: Power Consumption
            show:
              graph: bar
            line_color: red
            hours_to_show: 48
            points_per_hour: 1
            extrema: true
            labels: true
            line_width: 3
            decimals: 0
            hour24: true
          
          - type: entities
            title: Power
            show_header_toggle: false
            entities:
              - sensor.power_consumption_month_t1
              - sensor.power_consumption_month_t2
              - type: divider
              - sensor.power_consumption
              #- sensor.power_consumption_today
              - sensor.power_consumption_t1
              - sensor.power_consumption_t2
              #- sensor.power_consumption_yesterday
              - sensor.power_consumption_month
              #- sensor.power_consumption_month_prev
              - sensor.power_consumption_month_expected
              - type: divider
              - input_number.power_t1
              - input_number.power_t2
          
################################################################
# POWER LOADS PAGE
################################################################
  - title: Socket Loads
    icon: mdi:flash
    cards:
      ##########################################
      # Left column
      ##########################################
      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: gauge
                    name: Current
                    entity: sensor.total_current
                    max: 40
                    severity:
                      green: 1
                      yellow: 20
                      red: 30
                  - type: gauge
                    name: Power
                    entity: sensor.power_consumption
                    max: 12000
                    severity:
                      green: 100
                      yellow: 5000
                      red: 10000
                  - type: gauge
                    name: Voltage
                    entity: sensor.voltage
                    max: 230
                    severity:
                      green: 215
                      yellow: 120
                      red: 50
              - type: entities
                title: TOTAL
                show_header_toggle: false
                entities:
                  #- sensor.total_current
                  #- type: divider
                  #- sensor.power_consumption
                  - sensor.power_consumption_today
                  - sensor.power_consumption_t1
                  - sensor.power_consumption_t2
          - type: glance
            title: By Room
            show_header_toggle: false
            entities:
              - entity: sensor.power_consumption_mb
                name: MB
              - entity: sensor.power_consumption_v
                name: V
              - entity: sensor.power_consumption_s
                name: S
              - entity: sensor.power_consumption_hb
                name: HB
              - entity: sensor.power_consumption_hs
                name: HS
              - entity: sensor.power_consumption_k
                name: K
              - entity: sensor.power_consumption_b
                name: B
              - entity: sensor.power_consumption_t
                name: T
              - entity: sensor.power_consumption_st
                name: St
          - type: entities
            title: Sasha
            show_header_toggle: false
            entities:
              - sensor.pc_s
              - sensor.wadrobe_s
              - sensor.heater_s
      ##########################################
      # Mid column
      ##########################################
      - type: vertical-stack
        cards:
          - type: entities
            title: Hall Big
            show_header_toggle: false
            entities:
              - sensor.fridge_hb
              - sensor.entrance_hb
              - sensor.wadrobe_l_hb
              - sensor.wadrobe_r_hb
              
          - type: entities
            title: Hall Small
            show_header_toggle: false
            entities:
              - sensor.main_hs
              - sensor.utility_hs
              - type: divider
              - sensor.power_strip_hs
              - sensor.fan_b
              - sensor.fan_t
              - sensor.water_on_b
              - sensor.water_off_b
      ##########################################
      # Right column
      ##########################################
      - type: vertical-stack
        cards:
          - type: entities
            title: Master bedroom
            show_header_toggle: false
            entities:
              - sensor.pc_mb
              - sensor.bed_plug_mb
          
          - type: entities
            title: Vova
            show_header_toggle: false
            entities:
              - sensor.entrance_v
              - sensor.tv_v
              - sensor.wadrobe_v
              
          - type: entities
            title: Kitchen
            show_header_toggle: false
            entities:
              - sensor.pc_k
              - sensor.tv_k
              - sensor.oven_k
              - sensor.air_filter_k
              - sensor.night_k
              - sensor.plug_tv_k

################################################################
# DEVICE TRACKERS PAGE
################################################################
  - title: Devices
    icon: mdi:cellphone-link
    cards:
      - type: entities
        title: Smart Home
        show_header_toggle: false
        entities:
          - device_tracker.bedside_lamp_mb
          - device_tracker.e27_s
          - device_tracker.e27_mb
          - device_tracker.led_color_v
          - device_tracker.led_color_k
          - device_tracker.round_led_mb
          - device_tracker.square_led_v
          - device_tracker.led_strip_hb
          - type: divider
          - device_tracker.gateway_hb
          - device_tracker.gateway_hs
          - device_tracker.gateway_k
          - device_tracker.gateway_v
          - device_tracker.gateway_s
          - device_tracker.gateway_mb
          - type: divider
          - device_tracker.gateway_plug_hb
          - device_tracker.gateway_plug_hs
          - device_tracker.gateway_plug_k
          - device_tracker.gateway_plug_v
          - device_tracker.gateway_plug_s
          - device_tracker.gateway_plug_mb
          - device_tracker.server_plug_hb
          - device_tracker.power_strip_mb
          - device_tracker.power_strip_hs
          - type: divider
          - device_tracker.humi
          - device_tracker.purifier2s
          - type: divider
          - device_tracker.mi_ir
          
      - type: entities
        title: Phones
        show_header_toggle: false
        entities:
          - device_tracker.life360_dima_tsymbal
          - device_tracker.dima_iphone_8
          - device_tracker.meizu_2
          
          - type: divider
          - device_tracker.life360_sandra_tsymbal
          - device_tracker.sandra_iphone_7
          - device_tracker.sandra_iphone_6
          - device_tracker.sandra_iphone_4s
          
          - type: divider
          - device_tracker.life360_vova_tsymbal
          - device_tracker.vova_mimax
          
          - type: divider
          - device_tracker.sasha_iphone_5s
          
          - type: divider
          - device_tracker.ipad_sandra
          - device_tracker.ipad_dima
          - device_tracker.lena_iphone
          - device_tracker.iphone_saska
      
      - type: entities
        title: PCs
        show_header_toggle: false
        entities:
          - device_tracker.ubuntu_server
          - device_tracker.omv
          - device_tracker.m6800_lan
          - device_tracker.m6800_wifi
          - device_tracker.r418_wifi
          - device_tracker.u430p_wifi
          - device_tracker.brix3160_lan
          - device_tracker.brix3455_lan
          - device_tracker.brix3455_wifi
          - device_tracker.rpi_lan
          - device_tracker.acer_722_wifi
          - device_tracker.dell_5721_wifi
          - device_tracker.asus_v1j
          - device_tracker.j3455_lan
          - device_tracker.backup_ubuntu_server
      
      - type: entities
        title: Network
        show_header_toggle: false
        entities:
          - device_tracker.maingate
          - device_tracker.unificloudkey
          - device_tracker.mainswitch
          - device_tracker.switch_8_60_k
          - device_tracker.ap_hb
          - device_tracker.ap_hs
          - device_tracker.ap_s
          - device_tracker.ap_v
          - device_tracker.ap_mb
      
      - type: entities
        title: Others
        show_header_toggle: false
        entities:
          - device_tracker.kitchen_tv
          - device_tracker.iconbit_v
          - device_tracker.checkmachine
          - device_tracker.dns_320
          - device_tracker.dns_320l
          - device_tracker.hp8600
          - device_tracker.security
          
      - type: entities
        title: Cameras
        show_header_toggle: false
        entities:
          - device_tracker.g3_flex_kitchen
          - device_tracker.g3_flex_window
          - device_tracker.g3_flex_hall
          - device_tracker.g3_flex_entrance
          - type: divider
          - device_tracker.roundcam
          - device_tracker.square_cam_hs
          - device_tracker.360camera
          - device_tracker.digma_100
      
      - type: entities
        title: Home Mini
        show_header_toggle: false
        entities:
          - device_tracker.home_mini_k
          - device_tracker.home_mini_v
          - device_tracker.home_mini_s
          - device_tracker.home_mini_mb
          
  - title: Cameras
    icon: mdi:cctv
    cards:
      - type: picture-entity
        title: Entrance
        entity: camera.uvc_g3_flex_entrance
        name: Entrance
      - type: picture-entity
        title: Kitchen
        entity: camera.digma100
        name: Enrance 2
      - type: picture-entity
        title: Hall Big
        entity: camera.uvc_g3_flex_hall
        name: Hall
      - type: picture-entity
        title: Kitchen
        entity: camera.uvc_g3_flex_kitchen
        name: Kitchen
      - type: picture-entity
        title: Kitchen
        entity: camera.uvc_g3_flex_window
        name: Window
      

################################################################
# CLIMATE PAGE
################################################################
  - title: Climate
    icon: mdi:weather-sunset
#    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            show_header_toggle: false
            entities:
              - entity: fan.humidifier2
              - type: divider
              - entity: sensor.humidifier_led
                name: LED
              - entity: sensor.humidifier_mode
                name: Mode
              - entity: sensor.humidifier_fan_speed
                name: Fan speed
               
              - entity: sensor.humidifier_water_level
                name: Water level
 
          - type: horizontal-stack
            cards:
              - type: entity-button
                name: mode
                icon: mdi:fan
                entity: fan.humidifier2
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_humidifier_mode
 
              - type: entity-button
                name: LED
                icon: mdi:lightbulb
                entity: fan.humidifier2
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_humidifier_led
 
              - type: entity-button
                name: Buzzer
                icon: mdi:music-note
                entity: fan.humidifier2
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.set_humidifier_buzzer
 
              - type: entity-button
                name: DRY MODE
                icon: mdi:cup-water
                entity: fan.humidifier2
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.set_humidifier_dry_mode
          - type: vertical-stack
            cards:
              - type: custom:mini-graph-card
                #title: 'Temperature'
                hours_to_show: 72
                line_color: '#e74c3c'
                extrema: true
                labels: true
                line_width: 3
                points_per_hour: 1
                decimals: 0
                hour24: true
                entities:
                  - sensor.temperature_158d0001e6d85a
                    #name: "Sasha's room"
              - type: custom:mini-graph-card
                #title: 'Humidity'
                hours_to_show: 72
                line_color: blue
                points_per_hour: 1
                extrema: true
                labels: true
                line_width: 3
                decimals: 0
                hour24: true
                entities:
                  - sensor.humidity_158d0001e6d85a
                    #name: "Sasha's room"
      
      - type: vertical-stack
        cards:
          - type: entities
            show_header_toggle: false
            entities:
              - entity: fan.purifier2s
              - type: divider
              - entity: sensor.purifier_pm25
                name: PM2.5
                icon: mdi:meteor
              - entity: sensor.purifier_mode
                name: Mode
              - entity: sensor.purifier_fan_speed
                name: Fan speed
              - entity: sensor.purifier_filter_left
                name: Filter left

 
          - type: horizontal-stack
            cards:
              - type: entity-button
                name: mode
                icon: mdi:fan
                entity: fan.purifier2s
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_purifier_mode
              - type: entity-button
                name: mode
                icon: mdi:fan
                entity: fan.purifier2s
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_purifier_mode
              - type: entity-button
                name: mode
                icon: mdi:fan
                entity: fan.purifier2s
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_purifier_mode
              - type: entity-button
                name: mode
                icon: mdi:fan
                entity: fan.purifier2s
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.cycle_purifier_mode
 
          - type: vertical-stack
            cards:
              - type: custom:mini-graph-card
                hours_to_show: 72
                points_per_hour: 1
                decimals: 0
                hour24: true
                extrema: true
                labels: true
                line_width: 3
                line_color: red
                entities:
                  - sensor.temperature_158d0001e58714
              - type: custom:mini-graph-card
                hours_to_show: 72
                points_per_hour: 1
                decimals: 0
                hour24: true
                extrema: true
                labels: true
                line_width: 3
                line_color: blue
                entities:
                  - sensor.humidity_158d0001e58714
              - type: custom:mini-graph-card
                entities:
                  - sensor.purifier_pm25
                hours_to_show: 72
                points_per_hour: 1
                decimals: 0
                hour24: true
                extrema: true
                labels: true
                line_width: 3
                
                
                #sensor.temperature_158d0002464ec0
                #sensor.temperature_158d0002461e5b
                #sensor.temperature_158d000237167c
                #sensor.temperature_158d000222c746
                #sensor.temperature_158d00020d7c3a
                #sensor.temperature_158d0001e6d85a
                #sensor.temperature_158d0001e58754
                #sensor.temperature_158d0001e58714
                #sensor.temperature_158d0001e586af
                
                
################################################################
# SYSTEM MONITORING PAGE
################################################################
  - title: System Details
    icon: mdi:settings-outline
    cards:
      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            cards:
              - type: entities
                entities:
                  #- group.my_radio
                  - input_select.radio_station
                  - input_select.chromecast_radio
                  - input_number.volume_radio
              - type: horizontal-stack
                cards:
                  - type: entity-button
                    name: Play
                    icon: mdi:play
                    entity: script.radio_on
                    hold_action: none
                    tap_action:
                      action: call-service
                      service: script.radio_on
                  - type: entity-button
                    name: Stop
                    icon: mdi:stop
                    entity: script.radio_off
                    hold_action: none
                    tap_action:
                      action: call-service
                      service: script.radio_off
          - type: glance
            entities:
              - entity: media_player.home_mini_v
                name: V
              - entity: media_player.home_mini_s
                name: S
              - entity: media_player.home_mini_k
                name: K
              - entity: media_player.home_mini_mb
                name: MB
              - entity: media_player.mpd
                name: MPD
          - type: entity-filter
            show_header_toggle: false
            entities:
            - entity: timer.timer_b
            - entity: timer.timer_t
            - entity: timer.timer_k
            - entity: timer.timer_hb
            - entity: timer.timer_fan_b
            - entity: timer.timer_fan_t
            - entity: timer.timer_st
            
            state_filter:
            - "active"
          - type: vertical-stack
            cards:
              - type: custom:mini-graph-card
                icon: mdi:block
                entities:
                  - sensor.pi_hole_dns_queries_today
                  - sensor.pi_hole_dns_queries_forwarded
                  - sensor.pi_hole_dns_queries_cached
                  #- sensor.pi_hole_dns_unique_domains
                decimals: 0
                hour24: true
                extrema: true
                labels: true
                hours_to_show: 24
                points_per_hour: 1
                line_width: 2
              - type: custom:mini-graph-card
                icon: mdi:block
                entities:
                  - sensor.pi_hole_seen_clients
                  - sensor.pi_hole_ads_percentage_blocked_today
                decimals: 0
                hour24: true
                extrema: true
                labels: true
                hours_to_show: 24
                points_per_hour: 1
                line_width: 2
      # Mid column
      #############
      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            cards:
              - type: glance
                columns: 5
                entities:
                - entity: sensor.ha_runtime
                  name: HA Init
                - entity: sensor.ha_uptime
                  name: HA Up
                - entity: sensor.host_uptime
                  name: Host Up
                  icon: mdi:clock-outline
                #- sensor.ha_uptime_text
                #- sensor.host_uptime_text
                - entity: sensor.ha_installed_version
                  name: Installed
                - entity: sensor.ha_latest_version
                  name: Latest
                
                #- entity: sensor.ha_latest_beta
                #  name: Beta
              
              - type: glance
                #columns: 6
                entities:
                  - entity: counter.badlogin_counter
                    name: Bad Logins
                  - entity: counter.restart_counter
                    name: Restarts
                  - entity: counter.error_counter
                    name: Errors
                    tap_action:
                      action: call-service
                      service: script.error_reset
                  - entity: counter.warning_counter
                    name: Warnings
                    tap_action:
                      action: call-service
                      service: script.warning_reset
              # ######################################
              # Load bars for 8 threads CPU (i7 3770s)
              # ######################################
              - type: custom:bar-card
                title_position: top
                #title: none
                columns: 3
                height: 30px
                min: 0
                max: 8
                target: 5.6
                severity:
                  - value: 1
                    hue: '120'
                  - value: 3.2
                    hue: '60'
                  - value: 7
                    hue: '0'
                #width: 50%
                padding: 2px
                direction: right
                entities:
                  - sensor.load_1m
                  - sensor.load_5m
                  - sensor.load_15m

              - type: glance
                show_header_toggle: false
                columns: 7
                entities:
                - entity: script.ha_backup
                  name: Do Now
                  icon: mdi:cloud-upload
                - entity: sensor.last_google_backup
                  icon: mdi:map-clock-outline
                  name: Last
                - entity: sensor.last_google_filecount
                  icon: mdi:file-search
                  name: Files
                - entity: sensor.last_google_alreadycount
                  icon: mdi:file-export
                  name: G-Files
                - entity: sensor.last_google_backedupcount
                  icon: mdi:google-plus-box
                  name: Copied
                - entity: sensor.last_google_deletedcount
                  icon: mdi:file-remove
                  name: Del
                - entity: sensor.last_google_deletedfromgoogle
                  icon: mdi:folder-google-drive
                  name: G-Del
          - type: custom:tracker-card
            trackers:
              - sensor.custom_card_tracker
              - sensor.custom_component_tracker
          - type: custom:mini-graph-card
            icon: mdi:database
            entities:
              - sensor.mariadb_size
            decimals: 0
            hour24: true
#            extrema: true
            labels: true
            hours_to_show: 48
            line_width: 2
          #- type: entity-button
          #  name: DB Purge
          #  icon: mdi:database
          #  entity: sensor.db_size
          #  hold_action: none
          #  tap_action:
          #    action: call-service
          #    service: script.purge_db
        
        
      # ############  
      # Right column
      ##############
      - type: vertical-stack
        cards:
          - type: glance
            show_header_toggle: false
            columns: 7
            entities:
              - entity: sensor.tracker_count
                icon: mdi:cellphone-link
                name: Trackers
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              - entity: sensor.lights_count
                name: Lights
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              - entity: sensor.sensor_count
                name: Sensors
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              - entity: sensor.binary_sensor_count
                name: B-Sensors
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              - entity: sensor.switch_count
                name: Switches
              - entity: sensor.automation_count
                name: Auto
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              - entity: sensor.script_count
                name: Scripts
                tap_action:
                  action: call-service
                  service: script.update_sensors_stats
              
          - type: glance
            #title: Ubuntu Status
            columns: 7
            entities:
              - entity: sensor.processor_use
                name: CPU
              - entity: sensor.memory_use_percent
                name: RAM
                icon: mdi:chip
              - entity: sensor.cpu_temperature
                name: CPU_T
              - entity: sensor.ubuntu_ssd_space_used
                name: SSD
                icon: mdi:harddisk
              - entity: sensor.ubuntu_hdd_space_used
                name: HDD
                icon: mdi:harddisk
              #- entity: sensor.db_size
              #  name: MariaDB
              - entity: sensor.mariadb_size
                name: DB
                icon: mdi:database
              - entity: switch.server_plug_hb
                name: S.Plug
          - type: conditional
            conditions:
              - entity: binary_sensor.ippon_mb_status
                state_not: 'off'
            card:
              type: glance
            #title: Ippon 1050 HB  Status
              columns: 7
              entities:
                - entity: sensor.ippon_hb_status_data
                  name: Status
                - entity: sensor.ippon_hb_load
                  name: Load
                - entity: sensor.ippon_hb_battery_charge
                  name: Charge
                - entity: sensor.ippon_hb_battery_voltage
                  name: Voltage
                - entity: sensor.ippon_hb_input_voltage
                  name: Input
                - entity: sensor.ippon_hb_output_voltage
                  name: Output
                - entity: sensor.ippon_hb_ups_temperature
                  name: Temp

          - type: glance
            #title: OMV Status
            columns: 7
            entities:
              - entity: sensor.omv_cpu_load
                name: CPU
                icon: mdi:memory
              - entity: sensor.omv_mem_used
                name: RAM
                icon: mdi:chip
              - entity: sensor.omv_cpu_temp
                name: CPU_T
              - entity: sensor.omv_backupdisk_space_used
                name: Backup
                icon: mdi:nas
              - entity: sensor.omv_torrent_space_used
                name: Torrent
                icon: mdi:nas
              - entity: sensor.omv_storage_space_used
                name: Storage
                icon: mdi:nas
              - entity: sensor.omv_temp_space_used
                name: Temp
                icon: mdi:nas
                
          - type: glance
            #title: Unifi Status
            columns: 7
            entities:
              - entity: sensor.usg_alerts
                name: Alert
                #icon: mdi:memory
              - entity: sensor.usg_lan
                name: LAN
              - entity: sensor.usg_wan
                name: WAN
              - entity: sensor.usg_wlan
                name: WLAN
              - entity: sensor.usg_www
                name: WWW
              - entity: group.unifi_devices
                name: Devices
              - entity: sensor.usg_vpn
                name: VPN
          - type: horizontal-stack
            cards:
              - type: gauge
                name: Ping
                entity: sensor.speedtest_ping
                max: 50
                severity:
                  green: 5
                  yellow: 20
                  red: 30
                tap_action:
                  action: call-service
                  service: script.speedtest_manual
              - type: gauge
                name: DL
                entity: sensor.speedtest_download
                max: 250
                severity:
                  green: 175
                  yellow: 100
                  red: 50
              - type: gauge
                name: UL
                entity: sensor.speedtest_upload
                max: 250
                severity:
                  green: 175
                  yellow: 100
                  red: 50
          - type: glance
            #title: Sytem Status
            columns: 7
            entities:
              - entity: sensor.omv_status
                name: Status
              - entity: sensor.omv_down_speed
                name: DL
              - entity: sensor.omv_up_speed
                name: UL
              - entity: sensor.omv_total_torrents
                name: Total
              - entity: sensor.omv_active_torrents
                name: Active
              - entity: sensor.omv_completed_torrents
                name: Completed
              - entity: sensor.omv_started_torrents
                name: Started
          - type: glance
            #title: Sytem Status
            columns: 7
            entities:
              - entity: sensor.pi_hole_ads_blocked_today
              #- entity: sensor.pi_hole_ads_percentage_blocked_today
              - entity: sensor.pi_hole_dns_queries_today
              - entity: sensor.pi_hole_dns_queries_cached
              - entity: sensor.pi_hole_dns_queries_forwarded
              - entity: sensor.pi_hole_dns_unique_domains
              - entity: sensor.pi_hole_domains_blocked
              - entity: sensor.pi_hole_seen_clients
          - type: conditional
            conditions:
              - entity: binary_sensor.ippon_mb_status
                state_not: 'off'
            card:
              type: glance
            #title: Sytem Status
              columns: 7
              entities:
                - entity: sensor.ippon_mb_status_data
                  name: Status
                - entity: sensor.ippon_mb_load
                  name: Load
                - entity: sensor.ippon_mb_battery_charge
                  name: Charge
                - entity: sensor.ippon_mb_battery_voltage
                  name: Voltage
                - entity: sensor.ippon_mb_input_voltage
                  name: Input
                - entity: sensor.ippon_mb_output_voltage
                  name: Output
                - entity: sensor.ippon_mb_ups_temperature
                  name: Temp

################################################################
# PI-HOLE PAGE
################################################################
  - title: Pi-Hole
    icon: mdi:access-point-network-off
    cards:
      - type: iframe
        url: http://192.168.1.14:4865/admin
        aspect_ratio: 500%

################################################################
# SENSORS BATTERIES PAGE
################################################################
  - title: Battery
    icon: mdi:battery
    cards:
      #############
      # Left column
      #############
      - type: vertical-stack
        cards: 
          - type: entities
            title: Hall Big
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_sasha_tracker_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_door_fridge_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_door_freezer_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_fridge_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_mid_door_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_door_main_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_door_secondary_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_entrance_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_fridge_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_left_home_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_vibration_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_freezer_hb
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_test_sensor_hb
          - type: entities
            title: Hall Small
            show_header_toggle: false
            entities:  
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_hs
          - type: entities
            title: Storage
            show_header_toggle: false
            entities:    
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_night_light_st
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_st
      #############
      # Middle Left column
      #############
      - type: vertical-stack
        cards:
          - type: entities
            title: Kitchen
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_window_k
              - type: "custom:battery-entity"
                entity: sensor.battery_water_leak_k
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_k
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_desk_light_k
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_k
              - type: "custom:battery-entity"
                entity: sensor.battery_smoke_k
          - type: entities
            title: Bathroom
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_water_leak_b
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_b
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_fan_b
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_b
              - type: "custom:battery-entity"
                entity: sensor.battery_door_b
              - type: "custom:battery-entity"
                entity: sensor.battery_counter_hot_water_b
          - type: entities
            title: Toilet
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_water_leak_t
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_t
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_fan_t
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_t
              - type: "custom:battery-entity"
                entity: sensor.battery_door_t
              - type: "custom:battery-entity"
                entity: sensor.battery_cover_t
              - type: "custom:battery-entity"
                entity: sensor.battery_counter_cold_water_t
      #############
      # Right column
      #############
      - type: vertical-stack
        cards:
          - type: entities
            title: Master Bedroom
            show_header_toggle: false
            entities:    
              - type: "custom:battery-entity"
                entity: sensor.battery_window_mb
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_mb
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_main_light_mb
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_desk_light_mb
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_mb
              - type: "custom:battery-entity"
                entity: sensor.battery_door_mb
          - type: entities
            title: Sasha
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_window_s
              - type: "custom:battery-entity"
                entity: sensor.battery_vibration_s
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_s
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_night_light_s
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_desk_light_s
              - type: "custom:battery-entity"
                entity: sensor.battery_pink_cube_s
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_s
              - type: "custom:battery-entity"
                entity: sensor.battery_door_s
          - type: entities
            title: Vova
            show_header_toggle: false
            entities:
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_main_light_v
              - type: "custom:battery-entity"
                entity: sensor.battery_window_v
              - type: "custom:battery-entity"
                entity: sensor.battery_temp_v
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_desk_light_v
              - type: "custom:battery-entity"
                entity: sensor.battery_switch_bed_light_v
              - type: "custom:battery-entity"
                entity: sensor.battery_motion_v
              - type: "custom:battery-entity"
                entity: sensor.battery_door_v
          
  