#
# SELECT entity_id, COUNT(*) as count FROM states GROUP BY entity_id ORDER BY count DESC LIMIT 100;
#
  db_url: !secret postgresql_url
  #db_url: !secret mariadb_url
  purge_keep_days: 2
  purge_interval: 0
  # exclude:
  #   entities:
  #     - sensor.ipmi_front_fan_1
  #     - sensor.ipmi_front_fan_2
  #     - sensor.ipmi_front_fan_3
  #     - sensor.ipmi_front_fan_4
  #     - sensor.ipmi_rear_fan_1
  #     - sensor.ipmi_rear_fan_2
  #     - sensor.back_2tb_usage
  #     - sensor.backupdisk_usage
  #     - sensor.cpu1_package_temp
  #     - sensor.cpu2_package_temp
  #     - sensor.media_usage
  #     - sensor.video_usage
  #     - sensor.ssd_usage
  #     - sensor.j3455_cpu_temp
  #     - sensor.j3455_cpu_usage
  #     - sensor.j3455_ram_usage
  #     - sensor.j3455_ssd_usage 
  #     - sensor.rpi_cpu_temp
  #     - sensor.rpi_cpu_usage
  #     - sensor.rpi_ram_usage
  #     - sensor.rpi_ssd_usage
  #     - sensor.d1_filter_flow_mineralized
  #     - sensor.d1_filter_flow_nonmineralized
  #     - sensor.d1_filter_flow_raw
  #     - sensor.date
  #     - sensor.time
  #     - sensor.time
  #     - sensor.time_date
  #     - sensor.time_utc
  #     - sensor.date
  #     - sensor.date_time
  #     - sensor.date_time_iso
  #     - binary_sensor.8266_pwr_meter_imp
  #     - light.esp32_domofon_yellow_led
  #     - binary_sensor.round_led_mb
  #     - binary_sensor.square_led_v
  #     - binary_sensor.led_strip_hb
  #     - light.esp32_domofon_green_led
  #     - sensor.rpi_cpu_usage
  #     - sensor.j3455_cpu_usage
  #     - sensor.cpu_usage
  #     - sensor.rpi_state
  #     - sensor.j3455_state
  #     - sensor.8266_pwr_power_meter
  #     - sensor.power_consumption_8266_w
  #     - binary_sensor.j3455
  #     - binary_sensor.rpi
  #     - light.esp32_domofon_blue_led
  #     - sensor.cpu1_package_temp
  #     - sensor.cpu2_package_temp
  #     - timer.timer_k
  #     - group.motionunifi
  #     - binary_sensor.motion_unifi
  #     - sensor.power_t1_j3455
  #     - sensor.hot_water_meter_month_rpi
  #     - sensor.power_consumption_month_t2_rpi
  #     - sensor.load_1m
  #     - sensor.power_t1_rpi
  #     - sensor.cold_water_meter_j3455
  #     - sensor.power_consumption_month_t1_j3455
  #     - sensor.cold_water_meter_month_j3455
  #     - sensor.power_consumption_month_t1_rpi
  #     - sensor.power_t2_j3455
  #     - sensor.hot_water_meter_j3455
  #     - sensor.cold_water_meter_month_rpi
  #     - sensor.power_t2_rpi
  #     - sensor.hot_water_meter_month_j3455
  #     - sensor.cold_water_meter_rpi
  #     - sensor.power_consumption_month_t2_j3455
  #     - sensor.hot_water_meter_rpi
  #     - sensor.unifi_gateway_3_packets_received
  #     - sensor.unifi_gateway_3_packets_sec_received
  #     - sensor.unifi_gateway_3_packets_sent
  #     - sensor.unifi_gateway_3_packets_sec_sent
  #     - sensor.load_5m
  #     - sensor.load_15m
  #     - fan.humidifier2
  #     - sensor.blackhole_up_speed
  #     - sensor.usg_lan
  #     - sensor.usg_wlan
  #     - sensor.humidifier_fan_speed
  #     - fan.purifier2s
  #     - sensor.usg_wan
  #     - sensor.8266_pwr_uptime
  #     - sensor.usg_www
  #     - sensor.esp32_domofon_uptime
  #     - sensor.8266_air_valve_uptime
  #     - sensor.d1_hood_uptime
  #     - sensor.d1mini_co2_mb_uptime
  #     - sensor.d1mini_co2_s_uptime
  #     - sensor.esp01_hdd_box_uptime
  #     - sensor.d1mini_co2_v_uptime
  #     - binary_sensor.google_dns
  #     - sensor.d1_filter_flow_uptime
  #     - sensor.purifier_fan_speed
  #     - sensor.8266_air_valve_humidity
  #     - sensor.internet_time
  #     - sensor.8266_air_valve_wifi_rssi
  #     - sensor.8266_pwr_wifi_rssi
  #     - sensor.d1_hood_wifi_rssi
  #     - sensor.d1_filter_flow_wifi_rssi
  #     - sensor.esp32_domofon_wifi_rssi
  #     - sensor.d1mini_co2_s_wifi_rssi
  #     - sensor.d1mini_co2_mb_wifi_rssi
  #     - sensor.d1mini_co2_v_wifi_rssi
  #     - sensor.esp01_hdd_box_wifi_rssi
  #     - automation.system_power_update_30s
  #     - script.power_m_t2
  #     - script.power_t2
  #     - script.power_m_t1
  #     - script.power_t1
  #     - sensor.8266_air_valve_uptime
  #     - sensor.8266_pwr_uptime
  #     - sensor.d1_filter_flow_uptime
  #     - sensor.d1_hood_uptime
  #     - sensor.esp32_domofon_uptime
  #     - sensor.d1mini_co2_mb_uptime
  #     - sensor.d1mini_co2_s_uptime
  #     - sensor.d1mini_co2_v_uptime
  #     - sensor.esp01_hdd_box_uptime

  #     - automation.system_error_counter
  #     - automation.kitchen_timer_restart
  #     - automation.system_warning_counter
  #     - automation.hall_big_auto_light_on
  #     - sensor.md2_session_read
  #     - sensor.illumination_158d0002b4729d
  #     - sensor.illumination_158d0002b48381
  #     - timer.timer_hb
  #     - sensor.illumination_158d000224f89f
  #     - automation.hall_big_timer_restart
  #     - binary_sensor.unifi_motion_entrance
  #     - binary_sensor.iconbit
  #     - timer.timer_b
  #     - binary_sensor.pressure_rising_fast_air_valve
  #     - sensor.pressure_gradient_air_valve
  #     - binary_sensor.unifi_motion_window
  #     - sensor.illumination_158d000236bb94
  #     - sensor.illumination_158d0001e05856
  #     - automation.bathroom_auto_light_on

  #     - binary_sensor.humidifier2
  #     - binary_sensor.bedside_mb


#     event_types:
#       - service_removed
#       - service_executed
#       - platform_discovered
#       - feedreader
#       - service_registered
#       - logbook_entry
#       - system_log_event
#       - events_pkey
#       - ix_events_contex_id
#     #  - homeassistant_start
#     #  - call_service
#     #  - component_loaded
#     #  - homeassistant_stop
# #    - automation_triggered
# #    - script_started
# #    - timer_out_of_sync

# list of all used domains

# {%- for d in states | groupby('domain') %}
# {{ d[0] }}
# {%- endfor %}

  # automation
# binary_sensor
  # camera
# counter
# device_tracker
# fan
  # group
# input_boolean
# input_number
# input_select
# light
# media_player
# persistent_notification
# person
# proximity
# remote
  # script
# sensor
  # sun
# switch
  # timer
  # weat/her
  # zone