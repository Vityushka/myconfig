title: System Details
icon: mdi:settings-outline
cards:
  - type: vertical-stack
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: entities
            entities:
              #- group.my_radio
              - input_select.radio_station
              - input_select.chromecast_radio
              - input_number.volume_radio
          - type: horizontal-stack
            cards:
              - type: entity-button
                name: Play
                icon: mdi:play
                entity: script.radio_on
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.radio_on
              - type: entity-button
                name: Stop
                icon: mdi:stop
                entity: script.radio_off
                hold_action: none
                tap_action:
                  action: call-service
                  service: script.radio_off
      - type: glance
        entities:
          - entity: media_player.home_mini_v
            name: V
          - entity: media_player.home_mini_s
            name: S
          - entity: media_player.home_mini_k
            name: K
          - entity: media_player.home_mini_mb
            name: MB
          - entity: media_player.mpd
            name: MPD
      - type: entity-filter
        show_header_toggle: false
        entities:
        - entity: timer.timer_b
        - entity: timer.timer_t
        - entity: timer.timer_k
        - entity: timer.timer_hb
        - entity: timer.timer_fan_b
        - entity: timer.timer_fan_t
        - entity: timer.timer_st
        
        state_filter:
        - "active"
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            icon: mdi:block
            entities:
              - sensor.pi_hole_dns_queries_today
              - sensor.pi_hole_dns_queries_forwarded
              - sensor.pi_hole_dns_queries_cached
              #- sensor.pi_hole_dns_unique_domains
            decimals: 0
            hour24: true
            extrema: true
            labels: true
            hours_to_show: 24
            points_per_hour: 1
            line_width: 2
          - type: custom:mini-graph-card
            icon: mdi:block
            entities:
              - sensor.pi_hole_seen_clients
              - sensor.pi_hole_ads_percentage_blocked_today
            decimals: 0
            hour24: true
            extrema: true
            labels: true
            hours_to_show: 24
            points_per_hour: 1
            line_width: 2
  # Mid column
  #############
  - type: vertical-stack
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: glance
            columns: 5
            entities:
            - entity: sensor.ha_runtime
              name: HA Init
            - entity: sensor.ha_uptime
              name: HA Up
            - entity: sensor.host_uptime
              name: Host Up
              icon: mdi:clock-outline
            #- sensor.ha_uptime_text
            #- sensor.host_uptime_text
            - entity: sensor.ha_installed_version
              name: Installed
            - entity: sensor.ha_latest_version
              name: Latest
            
            #- entity: sensor.ha_latest_beta
            #  name: Beta
          
          - type: glance
            #columns: 6
            entities:
              - entity: counter.badlogin_counter
                name: Bad Logins
              - entity: counter.restart_counter
                name: Restarts
              - entity: counter.error_counter
                name: Errors
                tap_action:
                  action: call-service
                  service: script.error_reset
              - entity: counter.warning_counter
                name: Warnings
                tap_action:
                  action: call-service
                  service: script.warning_reset
          # ######################################
          # Load bars for 8 threads CPU (i7 3770s)
          # ######################################
          - type: custom:bar-card
            title_position: top
            #title: none
            columns: 3
            height: 30px
            min: 0
            max: 8
            target: 5.6
            severity:
              - value: 1
                hue: '120'
              - value: 3.2
                hue: '60'
              - value: 7
                hue: '0'
            #width: 50%
            padding: 2px
            direction: right
            entities:
              - sensor.load_1m
              - sensor.load_5m
              - sensor.load_15m

          - type: glance
            show_header_toggle: false
            columns: 7
            entities:
            - entity: script.ha_backup
              name: Do Now
              icon: mdi:cloud-upload
            - entity: sensor.last_google_backup
              icon: mdi:map-clock-outline
              name: Last
            - entity: sensor.last_google_filecount
              icon: mdi:file-search
              name: Files
            - entity: sensor.last_google_alreadycount
              icon: mdi:file-export
              name: G-Files
            - entity: sensor.last_google_backedupcount
              icon: mdi:google-plus-box
              name: Copied
            - entity: sensor.last_google_deletedcount
              icon: mdi:file-remove
              name: Del
            - entity: sensor.last_google_deletedfromgoogle
              icon: mdi:folder-google-drive
              name: G-Del
      - type: custom:tracker-card
        trackers:
          - sensor.custom_card_tracker
          - sensor.custom_component_tracker
      - type: custom:mini-graph-card
        icon: mdi:database
        entities:
          - sensor.mariadb_size
        decimals: 0
        hour24: true
        labels: true
        hours_to_show: 48
        line_width: 2
      #- type: entity-button
      #  name: DB Purge
      #  icon: mdi:database
      #  entity: sensor.db_size
      #  hold_action: none
      #  tap_action:
      #    action: call-service
      #    service: script.purge_db
    
    
  # ############  
  # Right column
  ##############
  - type: vertical-stack
    cards:
      - type: glance
        show_header_toggle: false
        columns: 7
        entities:
          - entity: sensor.tracker_count
            icon: mdi:cellphone-link
            name: Trackers
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          - entity: sensor.lights_count
            name: Lights
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          - entity: sensor.sensor_count
            name: Sensors
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          - entity: sensor.binary_sensor_count
            name: B-Sensors
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          - entity: sensor.switch_count
            name: Switches
          - entity: sensor.automation_count
            name: Auto
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          - entity: sensor.script_count
            name: Scripts
            tap_action:
              action: call-service
              service: script.update_sensors_stats
          
      - type: glance
        #title: Ubuntu Status
        columns: 7
        entities:
          - entity: sensor.processor_use
            name: CPU
          - entity: sensor.memory_use_percent
            name: RAM
            icon: mdi:chip
          - entity: sensor.cpu_temperature
            name: CPU_T
          - entity: sensor.ubuntu_ssd_space_used
            name: SSD
            icon: mdi:harddisk
          - entity: sensor.ubuntu_hdd_space_used
            name: HDD
            icon: mdi:harddisk
          #- entity: sensor.db_size
          #  name: MariaDB
          - entity: sensor.mariadb_size
            name: DB
            icon: mdi:database
          - entity: switch.server_plug_hb
            name: S.Plug
      - type: conditional
        conditions:
          - entity: binary_sensor.ippon_mb_status
            state_not: 'off'
        card:
          type: glance
        #title: Ippon 1050 HB  Status
          columns: 7
          entities:
            - entity: sensor.ippon_hb_status_data
              name: Status
            - entity: sensor.ippon_hb_load
              name: Load
            - entity: sensor.ippon_hb_battery_charge
              name: Charge
            - entity: sensor.ippon_hb_battery_voltage
              name: Voltage
            - entity: sensor.ippon_hb_input_voltage
              name: Input
            - entity: sensor.ippon_hb_output_voltage
              name: Output
            - entity: sensor.ippon_hb_ups_temperature
              name: Temp

      - type: glance
        #title: OMV Status
        columns: 7
        entities:
          - entity: sensor.omv_cpu_load
            name: CPU
            icon: mdi:memory
          - entity: sensor.omv_mem_used
            name: RAM
            icon: mdi:chip
          - entity: sensor.omv_cpu_temp
            name: CPU_T
          - entity: sensor.omv_backupdisk_space_used
            name: Backup
            icon: mdi:nas
          - entity: sensor.omv_torrent_space_used
            name: Torrent
            icon: mdi:nas
          - entity: sensor.omv_storage_space_used
            name: Storage
            icon: mdi:nas
          - entity: sensor.omv_temp_space_used
            name: Temp
            icon: mdi:nas
            
      - type: glance
        #title: Unifi Status
        columns: 7
        entities:
          - entity: sensor.usg_alerts
            name: Alert
            #icon: mdi:memory
          - entity: sensor.usg_lan
            name: LAN
          - entity: sensor.usg_wan
            name: WAN
          - entity: sensor.usg_wlan
            name: WLAN
          - entity: sensor.usg_www
            name: WWW
          - entity: group.unifi_devices
            name: Devices
          - entity: sensor.usg_vpn
            name: VPN
      - type: horizontal-stack
        cards:
          - type: gauge
            name: Ping
            entity: sensor.speedtest_ping
            max: 50
            severity:
              green: 5
              yellow: 20
              red: 30
            tap_action:
              action: call-service
              service: script.speedtest_manual
          - type: gauge
            name: DL
            entity: sensor.speedtest_download
            max: 250
            severity:
              green: 175
              yellow: 100
              red: 50
          - type: gauge
            name: UL
            entity: sensor.speedtest_upload
            max: 250
            severity:
              green: 175
              yellow: 100
              red: 50
      - type: glance
        #title: Sytem Status
        columns: 7
        entities:
          - entity: sensor.omv_status
            name: Status
          - entity: sensor.omv_down_speed
            name: DL
          - entity: sensor.omv_up_speed
            name: UL
          - entity: sensor.omv_total_torrents
            name: Total
          - entity: sensor.omv_active_torrents
            name: Active
          - entity: sensor.omv_completed_torrents
            name: Completed
          - entity: sensor.omv_started_torrents
            name: Started
      - type: glance
        #title: Sytem Status
        columns: 7
        entities:
          - entity: sensor.pi_hole_ads_blocked_today
          #- entity: sensor.pi_hole_ads_percentage_blocked_today
          - entity: sensor.pi_hole_dns_queries_today
          - entity: sensor.pi_hole_dns_queries_cached
          - entity: sensor.pi_hole_dns_queries_forwarded
          - entity: sensor.pi_hole_dns_unique_domains
          - entity: sensor.pi_hole_domains_blocked
          - entity: sensor.pi_hole_seen_clients
      - type: conditional
        conditions:
          - entity: binary_sensor.ippon_mb_status
            state_not: 'off'
        card:
          type: glance
        #title: Sytem Status
          columns: 7
          entities:
            - entity: sensor.ippon_mb_status_data
              name: Status
            - entity: sensor.ippon_mb_load
              name: Load
            - entity: sensor.ippon_mb_battery_charge
              name: Charge
            - entity: sensor.ippon_mb_battery_voltage
              name: Voltage
            - entity: sensor.ippon_mb_input_voltage
              name: Input
            - entity: sensor.ippon_mb_output_voltage
              name: Output
            - entity: sensor.ippon_mb_ups_temperature
              name: Temp
